
# string

`std::string` 本质就是 `std::vector<char>` 的特化封装

连续内存、自动长度、自动管理内存

```c++
#include <string>
using std::string;

string s = "Hello World";
```



## 1.创建 & 初始化

```c++
string s1;                    // 空字符串
string s2 = "hello";          // C 字符串，长度是 5
string s3("world");           // 构造
string s4(5, 'a');            // "aaaaa"
string s5 = s2;               // 拷贝
```



## 2.获取长度 & 判空

```c++
s.size();    // 当前长度
s.length();  // 和 size() 一样
s.empty();   // 是否为空
```



## 3.拼接字符串（非常常用）

```c++
string s = "hello";
s += " world";       // hello world
s.append("!");       // hello world!
```



## 4.访问字符

```c++
s[0];        // 不检查边界
s.at(0);     // 越界抛异常
s.front();   // 第一个字符
s.back();    // 最后一个字符
```



## 5.遍历 string

1. 范围 for（推荐）

   ```c++
   for (char c : s) {
       cout << c << endl;
   }
   ```

2. 下标

   ```c++
   for (size_t i = 0; i < s.size(); i++) {
       cout << s[i];
   }
   ```



## 6.常用修改操作

1. 插入

   ```c++
   s.insert(5, " CPP");
   ```

2. 删除

   ```c++
   s.erase(5, 4);   // 从下标 5 删除 4 个字符
   ```

3. 替换

   ```c++
   s[0] = 'h';
   ```

   ```c++
   s.replace(0, 5, "Hi");
   ```



## 7.子串（非常常用）

```c++
string sub = s.substr(0, 5);
```



## 8.查找

```c++
size_t pos = s.find("world");

if (pos != string::npos) {
    cout << "found at " << pos << endl;
}
```



## 9.和 C 字符串互转

1. string → C 字符串

   ```c++
   const char* p = s.c_str();
   ```

2. C 字符串 → string

   ```c++
   const char* p = "hello";
   string s = p;
   ```

3. 字符数组和字符串

   ```c++
   char str1[5] = { 'h', 'e', 'l', 'l', 'o' };           // string1 不是一个字符串，是一个字符数组
   char str2[6] = { 'h', 'e', 'l', 'l', 'o', '\0' };     // string2 是一个字符串
   
   cout << str1 << endl;
   cout << str2 << endl;
   ```

   ```c++
   string str = "hello";
   char str1[] = "hello";           // 兼容了C语言，末尾字符串末尾补了0
   
   cout << str.size() << endl;      // 5
   cout << sizeof(str1) << endl;    // 6
   ```

   

