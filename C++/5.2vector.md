# vector

**`std::vector` 是 C++ 提供的“动态数组容器”**

能自动管理长度、内存、安全，比 C 数组强得多

```c++
#include <vector>
#include <iostream>

using namespace std;
```



### 优缺点

数组：数组是更加底层的数据类型;长度固定，功能较少，安全性没有保证；但性能更好，运行更高效；

vector：vector 是模板类，是数组的上层抽象;长度不定，功能强大；缺点是运行效率较低；



## 1.定义

```c++
vector<int> v;              // 空 vector
vector<int> v2(5);          // 5 个元素，默认值 0
vector<int> v3(5, 10);      // 5 个元素，值都是 10
vector<int> v4 = {1, 2, 3}; // 初始化列表
```



## 2.获取长度 & 判空

```c++
v.size();    // 当前元素个数
v.empty();   // 是否为空
```



## 3.访问元素

```c++
v[0];        // 不做边界检查（快）
v.at(0);     // 越界会抛异常（安全）
v.front();   // 第一个
v.back();    // 最后一个
```



## 4.遍历 vector

1. 下标遍历（最直观）

   ```c++
   for (size_t i = 0; i < v.size(); i++) {
       cout << v[i] << endl;
   }
   ```

2. 范围 for（最推荐）

   ```c++
   for (int x : v) {
       cout << x << endl;
   }
   ```

3. 迭代器（STL 风格）

   ```c++
   for (auto it = v.begin(); it != v.end(); ++it) {
       cout << *it << endl;
   }
   ```



## 5.增删元素

1. 增删

   ```c++
   v.push_back(10);   // 末尾加
   v.pop_back();      // 末尾删
   ```

2. 清空 & 释放
   ```c++
   v.clear();        // size = 0，capacity 不变
   v.shrink_to_fit();// 请求释放多余内存（非强制）
   ```

3. 中间插入 / 删除（知道就行）；会移动元素，O(n)

   ```c++
   v.insert(v.begin() + 1, 99);
   v.erase(v.begin() + 1);
   ```



## 6.和 C 数组互转

1. vector → C 数组

   ```c++
   int* p = v.data();
   ```

2. C 数组 → vector

   ```c++
   int arr[] = {1, 2, 3};
   vector<int> v(arr, arr + 3);
   ```

   
