# 内联函数

用 **函数体代码直接替换函数调用**，以减少函数调用带来的开销

**适合解决的问题**

1. 函数非常短（1~5 行）
2. 被频繁调用
3. 对性能敏感（如 getter / setter、数学小函数）



### 使用方式

1. 在函数前面添加`inline`关键字

   ```c++
   inline int add(int a, int b) {
       return a + b;
   }
   ```

2. 调用

   ```c++
   cout << add(1 + 2) << endl;
   ```

3. 编译器会自动把它展开

   ```c++
   cout << 1 + 2 << endl;
   ```



# 默认实参

1. 使用方式

   ```c++
   int add(int a = 1, int b = 2) {
       return a + b;
   }
   ```



# 函数重载



1. 重载的函数，应该在形参的**数量**或者**类型**上有所不同；
2. 调用函数时，编译器会根据传递的**实参个数和类型**，自动推断使用哪个函数；
3. 主函数不能重载；
4. 定义的函数可以被编译器识别成不同的函数（例如编译器可以把其编译成名字不同的两个/多个函数）；

```c++
void print(int x) {
    cout << "int: " << x << endl;
}

void print(double x) {
    cout << "double: " << x << endl;
}

int main() {
    print(10);     // 调用 print(int)
    print(3.14);   // 调用 print(double)
}
```



## const 参与重载（**重点**）

1. 引用 / 指针的 const 不同

   ```c++
   void func(int& x) {
       cout << "non-const reference" << endl;
   }
   
   void func(const int& x) {
       cout << "const reference" << endl;
   }
   
   int a = 10;
   const int b = 20;
   
   func(a);  // non-const reference
   func(b);  // const reference
   ```



## 重载和作用域

函数重载必须在同一作用域内，不同作用域的函数会被覆盖