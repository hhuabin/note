# 枚举

## 传统枚举

```c++
enum Color {
    RED,        // 默认值0
    GREEN,      // 默认值1，递增
    BLUE        // 默认值2，递增
};

// 使用
Color c = RED;  // c = 0

// 指定值
enum Color {
    RED = 1,
    GREEN = 3,
    BLUE = 5
};
```

传统 `enum` 的问题

1. ❌ 污染作用域

   ```c++
   enum Status { GREEN, FAIL }; // ❌ 冲突
   ```

2. ❌自动转 int（不安全）

   ```c++
   Color c = RED;
   int x = c;     // ✅ 能编译（隐式转换）
   ```

   



## c++11：强类型枚举（use this）

```c++
enum class Color {
	RED,        // 默认值0
    GREEN,      // 默认值1，递增
    BLUE        // 默认值2，递增
};

Color c = Color::Red;
```

修复问题

1. 不污染作用域

   ```c++
   enum class Color { Red, Green };
   enum class Status { Green, Fail }; // ✅ OK
   ```

2. 不会隐式转 int

   ```c++
   int x = Color::Red;  // ❌ 编译错误
   
   // 必须显式转换
   int x = static_cast<int>(Color::Red);
   ```

3. 类型安全

   ```c++
   void setColor(Color c);
   
   setColor(Status::Green); // ❌ 编译期报错
   ```
   
   